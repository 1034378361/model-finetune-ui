# CSVæ–‡ä»¶ç»“æ„è¯´æ˜

åŸºäº`_format_result`å‡½æ•°çš„åˆ†æï¼Œå„ä¸ªCSVæ–‡ä»¶çš„æ­£ç¡®ç»“æ„å¦‚ä¸‹ï¼š

## ğŸ“Š æ–‡ä»¶ç»“æ„æ€»è§ˆ

### 1. **wæƒé‡ç³»æ•°** (`w_coefficients.csv`)
```
           turbidity    ss      sd      do     ...
STZ1       0.123       0.456   0.789   1.012  ...
STZ2       0.234       0.567   0.890   1.123  ...
STZ3       0.345       0.678   0.901   1.234  ...
...
STZ25      0.987       0.654   0.321   0.098  ...
```
- **è¡Œç´¢å¼•**: ç‰¹å¾ç¼–å· (STZ1, STZ2, ..., STZ25)
- **åˆ—ç´¢å¼•**: æ°´è´¨å‚æ•° (turbidity, ss, sd, do, codmn, codcr, chla, tn, tp, chroma, nh3n)
- **åŸå› **: ä»£ç ä¸­ä½¿ç”¨ `w_coefficients.values.T.flatten()` è¿›è¡Œè½¬ç½®

### 2. **aæƒé‡ç³»æ•°** (`a_coefficients.csv`)
```
           turbidity    ss      sd      do     ...
STZ1       0.012       0.034   0.056   0.078  ...
STZ2       0.023       0.045   0.067   0.089  ...
STZ3       0.034       0.056   0.078   0.090  ...
...
STZ25      0.098       0.076   0.054   0.032  ...
```
- **è¡Œç´¢å¼•**: ç‰¹å¾ç¼–å· (STZ1, STZ2, ..., STZ25)
- **åˆ—ç´¢å¼•**: æ°´è´¨å‚æ•° (turbidity, ss, sd, do, codmn, codcr, chla, tn, tp, chroma, nh3n)
- **åŸå› **: ä»£ç ä¸­ä½¿ç”¨ `a_coefficients.values.T.flatten()` è¿›è¡Œè½¬ç½®

### 3. **bå¹‚ç³»æ•°** (`b_coefficients.csv`)
```
           STZ1    STZ2    STZ3    STZ4   ...  STZ25
turbidity  1.123   1.456   1.789   1.012  ...  1.987
ss         1.234   1.567   1.890   1.123  ...  1.654
sd         1.345   1.678   1.901   1.234  ...  1.321
...
nh3n       1.987   1.654   1.321   1.098  ...  1.876
```
- **è¡Œç´¢å¼•**: æ°´è´¨å‚æ•° (turbidity, ss, sd, do, codmn, codcr, chla, tn, tp, chroma, nh3n)
- **åˆ—ç´¢å¼•**: ç‰¹å¾ç¼–å· (STZ1, STZ2, ..., STZ25)
- **åŸå› **: ä»£ç ä¸­ä½¿ç”¨ `b_coefficients.values.flatten()` ä¸è½¬ç½®

### 4. **Aå¾®è°ƒç³»æ•°** (`A_coefficients.csv`)
```
           A
turbidity  1.123
ss         1.234
sd         1.345
do         1.456
...
nh3n       1.987
```
- **è¡Œç´¢å¼•**: æ°´è´¨å‚æ•° (turbidity, ss, sd, do, codmn, codcr, chla, tn, tp, chroma, nh3n)
- **åˆ—ç´¢å¼•**: ["A"]
- **åŸå› **: ä»£ç ä¸­ä½¿ç”¨ `A_coefficients.values.flatten()` ä¸è½¬ç½®

### 5. **Rangeæ•°æ®** (`range_data.csv`)

```
           min     max
turbidity  0.5     50.0
ss         1.0     100.0
sd         0.1     5.0
do         4.0     12.0
codmn      1.0     15.0
codcr      5.0     40.0
chla       0.1     20.0
tn         0.1     5.0
tp         0.01    0.5
chroma     5.0     50.0
nh3n       0.01    2.0
```
- **è¡Œç´¢å¼•**: æ°´è´¨å‚æ•° (turbidity, ss, sd, do, codmn, codcr, chla, tn, tp, chroma, nh3n)
- **åˆ—ç´¢å¼•**: ["min", "max"] (æœ€å°å€¼å’Œæœ€å¤§å€¼)
- **æ•°æ®å†…å®¹**: æ¯ä¸ªæ°´è´¨å‚æ•°çš„å–å€¼èŒƒå›´
- **è¯´æ˜**: ç”¨æˆ·ç›´æ¥ä¸Šä¼ min/maxæ ¼å¼ï¼Œç³»ç»Ÿå†…éƒ¨ä¼šè½¬æ¢ä¸º["m", "n"]æ ¼å¼è¿›è¡Œå¤„ç†

## ğŸ”„ æ•°æ®å¤„ç†æµç¨‹

### Type 0 (å¾®è°ƒæ¨¡å¼)
1. ç”¨æˆ·ä¸Šä¼ : `A_coefficients.csv`, `range_data.csv`
2. ç³»ç»Ÿå¤„ç†: 
   - ç›´æ¥ä½¿ç”¨Aç³»æ•°: `A_coefficients.values.flatten()`
   - å¤„ç†Rangeç³»æ•°: å°†["min", "max"]é‡å‘½åä¸º["m", "n"]

### Type 1 (å®Œæ•´å»ºæ¨¡æ¨¡å¼)
1. ç”¨æˆ·ä¸Šä¼ : `w_coefficients.csv`, `a_coefficients.csv`, `b_coefficients.csv`, `range_data.csv`
2. ç³»ç»Ÿå¤„ç†:
   - wç³»æ•°è½¬ç½®: `w_coefficients.values.T.flatten()`
   - aç³»æ•°è½¬ç½®: `a_coefficients.values.T.flatten()`
   - bç³»æ•°ä¸è½¬ç½®: `b_coefficients.values.flatten()`
   - **è‡ªåŠ¨ç”ŸæˆAç³»æ•°**: æ ¹æ®Rangeæ•°æ®çš„æ°´è´¨å‚æ•°ç´¢å¼•ï¼Œå…¨éƒ¨è®¾ä¸º1.0
   - å¤„ç†Rangeç³»æ•°: å°†["min", "max"]é‡å‘½åä¸º["m", "n"]

## ğŸ“‹ æ°´è´¨å‚æ•°åˆ—è¡¨

æ ‡å‡†çš„11ä¸ªæ°´è´¨å‚æ•°:
- `turbidity` - æµŠåº¦
- `ss` - æ‚¬æµ®ç‰©
- `sd` - é€æ˜åº¦
- `do` - æº¶è§£æ°§
- `codmn` - é«˜é”°é…¸ç›æŒ‡æ•°
- `codcr` - åŒ–å­¦éœ€æ°§é‡
- `chla` - å¶ç»¿ç´ a
- `tn` - æ€»æ°®
- `tp` - æ€»ç£·
- `chroma` - è‰²åº¦
- `nh3n` - æ°¨æ°®

## ğŸ¢ ç‰¹å¾åˆ—è¡¨

æ ‡å‡†çš„25ä¸ªç‰¹å¾: STZ1, STZ2, STZ3, ..., STZ25

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

1. **wå’Œaç³»æ•°éœ€è¦è½¬ç½®**: ç”¨æˆ·ä¸Šä¼ çš„æ˜¯ ç‰¹å¾Ã—æ°´è´¨å‚æ•° æ ¼å¼ï¼Œä½†ç³»ç»Ÿä¼šè½¬ç½®åå¤„ç†
2. **bå’ŒAç³»æ•°ä¸éœ€è¦è½¬ç½®**: ç”¨æˆ·ä¸Šä¼ çš„æ˜¯ æ°´è´¨å‚æ•°Ã—ç‰¹å¾/A æ ¼å¼
3. **Rangeæ•°æ®æ ¼å¼**: ç”¨æˆ·ä¸Šä¼ æ°´è´¨å‚æ•°Ã—[min,max]æ ¼å¼ï¼Œç³»ç»Ÿé‡å‘½åä¸º[m,n]æ ¼å¼
4. **Type 1æ¨¡å¼Aç³»æ•°è‡ªåŠ¨ç”Ÿæˆ**: æ— éœ€ç”¨æˆ·ä¸Šä¼ Aç³»æ•°æ–‡ä»¶ï¼Œç³»ç»Ÿæ ¹æ®Rangeæ•°æ®è‡ªåŠ¨ç”Ÿæˆ
5. **æ–‡ä»¶ååŒºåˆ†å¤§å°å†™**: åœ¨æŸäº›ç³»ç»Ÿä¸­éœ€è¦æ³¨æ„ `a_coefficients.csv` å’Œ `A_coefficients.csv` çš„åŒºåˆ«